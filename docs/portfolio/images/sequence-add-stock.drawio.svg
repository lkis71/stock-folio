<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="700px" height="450px" viewBox="-0.5 -0.5 700 450" content="&lt;mxfile host=&quot;app.diagrams.net&quot;&gt;&lt;diagram name=&quot;Sequence Add Stock&quot; id=&quot;seq-add&quot;&gt;&lt;/diagram&gt;&lt;/mxfile&gt;">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333333"/>
    </marker>
    <marker id="arrowhead-dashed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666666"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect x="0" y="0" width="700" height="450" fill="#FFFFFF"/>

  <!-- Participants -->
  <!-- 사용자 -->
  <rect x="30" y="20" width="80" height="40" rx="5" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
  <text x="70" y="45" font-family="SF Pro Display, -apple-system, sans-serif" font-size="12" text-anchor="middle" fill="#1976D2">사용자</text>
  <line x1="70" y1="60" x2="70" y2="420" stroke="#1976D2" stroke-width="1" stroke-dasharray="4,4"/>

  <!-- PortfolioView -->
  <rect x="150" y="20" width="100" height="40" rx="5" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
  <text x="200" y="45" font-family="SF Pro Display, -apple-system, sans-serif" font-size="12" text-anchor="middle" fill="#388E3C">PortfolioView</text>
  <line x1="200" y1="60" x2="200" y2="420" stroke="#388E3C" stroke-width="1" stroke-dasharray="4,4"/>

  <!-- ViewModel -->
  <rect x="290" y="20" width="120" height="40" rx="5" fill="#FFF3E0" stroke="#F57C00" stroke-width="2"/>
  <text x="350" y="45" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#F57C00">PortfolioViewModel</text>
  <line x1="350" y1="60" x2="350" y2="420" stroke="#F57C00" stroke-width="1" stroke-dasharray="4,4"/>

  <!-- Repository -->
  <rect x="440" y="20" width="100" height="40" rx="5" fill="#F3E5F5" stroke="#7B1FA2" stroke-width="2"/>
  <text x="490" y="45" font-family="SF Pro Display, -apple-system, sans-serif" font-size="12" text-anchor="middle" fill="#7B1FA2">StockRepository</text>
  <line x1="490" y1="60" x2="490" y2="420" stroke="#7B1FA2" stroke-width="1" stroke-dasharray="4,4"/>

  <!-- Core Data -->
  <rect x="580" y="20" width="90" height="40" rx="5" fill="#E0F7FA" stroke="#00838F" stroke-width="2"/>
  <text x="625" y="45" font-family="SF Pro Display, -apple-system, sans-serif" font-size="12" text-anchor="middle" fill="#00838F">Core Data</text>
  <line x1="625" y1="60" x2="625" y2="420" stroke="#00838F" stroke-width="1" stroke-dasharray="4,4"/>

  <!-- Messages -->
  <!-- 1. + 버튼 탭 -->
  <line x1="70" y1="90" x2="200" y2="90" stroke="#333333" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="135" y="82" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#333333">+ 버튼 탭</text>

  <!-- 2. AddStockView 표시 -->
  <rect x="180" y="110" width="40" height="25" fill="#E8F5E9" stroke="#388E3C" stroke-width="1"/>
  <line x1="200" y1="110" x2="200" y2="135" stroke="#388E3C" stroke-width="1"/>
  <text x="200" y="155" font-family="SF Pro Display, -apple-system, sans-serif" font-size="10" text-anchor="middle" fill="#388E3C">AddStockView 표시</text>

  <!-- 3. 종목명, 금액 입력 -->
  <line x1="70" y1="175" x2="200" y2="175" stroke="#333333" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="135" y="167" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#333333">종목명, 금액 입력</text>

  <!-- 4. 저장 버튼 탭 -->
  <line x1="70" y1="205" x2="200" y2="205" stroke="#333333" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="135" y="197" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#333333">저장 버튼 탭</text>

  <!-- 5. addStock() -->
  <line x1="200" y1="235" x2="350" y2="235" stroke="#333333" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="275" y="227" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#333333">addStock()</text>

  <!-- 6. create() -->
  <line x1="350" y1="265" x2="490" y2="265" stroke="#333333" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="420" y="257" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#333333">create()</text>

  <!-- 7. 데이터 저장 -->
  <line x1="490" y1="295" x2="625" y2="295" stroke="#333333" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="558" y="287" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#333333">데이터 저장</text>

  <!-- 8. 성공 -->
  <line x1="625" y1="325" x2="490" y2="325" stroke="#666666" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowhead-dashed)"/>
  <text x="558" y="317" font-family="SF Pro Display, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#666666">성공</text>

  <!-- 9. StockHoldingEntity -->
  <line x1="490" y1="355" x2="350" y2="355" stroke="#666666" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowhead-dashed)"/>
  <text x="420" y="347" font-family="SF Pro Display, -apple-system, sans-serif" font-size="10" text-anchor="middle" fill="#666666">StockHoldingEntity</text>

  <!-- 10. 종목 리스트 업데이트 -->
  <line x1="350" y1="385" x2="200" y2="385" stroke="#666666" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowhead-dashed)"/>
  <text x="275" y="377" font-family="SF Pro Display, -apple-system, sans-serif" font-size="10" text-anchor="middle" fill="#666666">종목 리스트 업데이트</text>

  <!-- 11. 목록에 종목 표시 -->
  <line x1="200" y1="415" x2="70" y2="415" stroke="#666666" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arrowhead-dashed)"/>
  <text x="135" y="407" font-family="SF Pro Display, -apple-system, sans-serif" font-size="10" text-anchor="middle" fill="#666666">목록에 종목 표시</text>
</svg>
